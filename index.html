<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Tantan ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600&family=Noto+Serif+TC:wght@300&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #1a0808;
            --envelope-red: #8e3235;
            --paper-old: #f4ecd8;
            --ink: #3d2b1f;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Serif TC', serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center; 
            background: radial-gradient(circle at center, #4a1c1c 0%, var(--bg-dark) 100%);
            overflow: hidden;
            color: white;
        }

        /* ÈõôÊôÇÂçÄÊôÇÈêò */
        .world-clock {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 13px;
            text-align: right;
            letter-spacing: 1px;
            opacity: 0.8;
            font-family: monospace;
            z-index: 100;
            line-height: 1.5;
        }

        .hearts-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 10;
            width: 90%;
            max-width: 450px;
        }

        .envelope-wrap {
            position: relative;
            width: 100%;
            aspect-ratio: 1.5;
            cursor: pointer;
            transition: transform 0.6s ease;
        }

        .envelope {
            position: absolute;
            width: 100%; height: 100%;
            background: var(--envelope-red);
            border-radius: 4px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            z-index: 5;
        }

        .flap {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 50%;
            background: #7a2a2d;
            clip-path: polygon(0 0, 100% 0, 50% 100%);
            z-index: 11;
            transform-origin: top;
            transition: transform 0.6s ease;
        }

        .wax-seal {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -20%);
            width: 60px; height: 60px;
            background: #610d0d;
            border-radius: 50%;
            z-index: 12;
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
            display: flex; justify-content: center; align-items: center;
            transition: all 0.4s ease;
        }
        .wax-seal::after {
            content: 'N & T';
            font-family: 'Dancing Script', cursive;
            color: #d4af37;
            font-size: 14px;
        }

        .opened .flap { transform: rotateX(180deg); z-index: 4; }
        .opened .wax-seal { opacity: 0; }

        /* ‰ø°Á¥ôË®≠ÂÆö */
        .letter {
            position: absolute;
            top: 0; left: 2.5%;
            width: 95%; 
            height: 100%; 
            background: var(--paper-old);
            background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            z-index: 6;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .opened .letter {
            height: 80vh; 
            transform: translateY(-40%);
            top: 50%; 
        }

        /* ÊªæÂãïÂÖßÂÆπÂçÄ */
        .scroll-content {
            width: 100%;
            height: 100%;
            padding: 50px 30px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(142, 50, 53, 0.2) transparent;
        }

        .scroll-content::-webkit-scrollbar { width: 4px; }
        .scroll-content::-webkit-scrollbar-thumb { background: rgba(142, 50, 53, 0.15); border-radius: 10px; }

        .paper-content {
            color: var(--ink);
            opacity: 0;
            transition: opacity 0.5s ease 0.6s;
            display: flex;
            flex-direction: column;
            min-height: 100%;
            /* Â•óÁî®ÂÖ®Ëã±ÊñáÂÑ™ÈõÖÂ≠óÈ´î */
            font-family: 'Dancing Script', cursive;
            font-size: 20px;
            line-height: 1.6;
        }

        .opened .paper-content { opacity: 1; }

        .header h1 {
            font-size: 26px;
            color: #8e3235;
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(142, 50, 53, 0.1);
            padding-bottom: 10px;
        }

        .body-text {
            margin-bottom: 30px;
            white-space: pre-line; /* ‰øùÁïôÊèõË°å */
        }

        .signature {
            margin-top: auto;
            text-align: right;
            padding-bottom: 10px;
        }

        .location-tag {
            font-family: sans-serif;
            font-size: 10px;
            text-align: center;
            color: #8e3235;
            letter-spacing: 4px;
            font-weight: bold;
            opacity: 0.5;
            margin-top: 20px;
            text-transform: uppercase;
        }

        .hint {
            position: absolute;
            bottom: -80px;
            width: 100%;
            text-align: center;
            font-size: 13px;
            letter-spacing: 2px;
            animation: breathe 2.5s infinite;
        }

        @keyframes breathe {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>

<div class="world-clock">
    Taipei: <span id="tpe">--:--</span><br>
    Paris: <span id="par">--:--</span>
</div>

<div class="hearts-bg" id="heartsBg"></div>

<div class="container">
    <div class="envelope-wrap" id="envelopeWrap">
        <div class="flap"></div>
        <div class="wax-seal"></div>
        <div class="envelope"></div>

        <div class="letter" id="letter">
            <div class="scroll-content">
                <div class="paper-content">
                    <div class="header">
                        <h1>Happy Valentine's Day</h1>
                    </div>
                    
                    <div class="body-text">
Dear Tristan, 

Happy Valentine‚Äôs Day my Tantan ‚ù§Ô∏è

You‚Äôve been working so hard this week, I‚Äôm proud of you. ü•∞ Wish you can get some rest tonight.

I‚Äôm really grateful for you. 

Thanks for being honest with me about what you need, and for wanting to keep trying with me. It means a lot baby. ‚ò∫Ô∏è

Love you, miss you ‚ù§Ô∏è
                    </div>

                    <div class="signature">
                        <span style="font-size: 28px;">Your Yuyu</span>
                        <br>
                        <span style="font-size: 16px; opacity: 0.8;">(Miss boobs also send their love heheüòò)</span>
                    </div>

                    <div class="location-tag">TAIPEI ‚úà FRANCE</div>
                </div>
            </div>
        </div>
    </div>
    <div class="hint" id="hintText">‚ú® Click to open your letter ‚ú®</div>
</div>

<script>
    // Êõ¥Êñ∞ÈõôÊôÇÂçÄÊôÇÈêò
    function updateClocks() {
        const now = new Date();
        const tpe = new Intl.DateTimeFormat('en-GB', { timeZone: 'Asia/Taipei', hour: '2-digit', minute: '2-digit' }).format(now);
        const par = new Intl.DateTimeFormat('en-GB', { timeZone: 'Europe/Paris', hour: '2-digit', minute: '2-digit' }).format(now);
        document.getElementById('tpe').textContent = tpe;
        document.getElementById('par').textContent = par;
    }
    setInterval(updateClocks, 1000);
    updateClocks();

    const wrap = document.getElementById('envelopeWrap');
    const hint = document.getElementById('hintText');
    let isOpen = false;

    wrap.addEventListener('click', (e) => {
        if (isOpen && e.target.closest('.scroll-content')) return;

        if (!isOpen) {
            wrap.classList.add('opened');
            hint.style.display = 'none';
            isOpen = true;
        } else {
            wrap.classList.remove('opened');
            setTimeout(() => { hint.style.display = 'block'; }, 800);
            isOpen = false;
        }
    });

    function createHeart() {
        const heart = document.createElement('div');
        heart.style.position = 'absolute';
        heart.style.color = 'rgba(142, 50, 53, ' + (Math.random() * 0.4 + 0.1) + ')';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.top = '-20px';
        heart.style.fontSize = (Math.random() * 12 + 8) + 'px';
        heart.innerHTML = '‚ù§';
        const duration = Math.random() * 8 + 8;
        heart.style.transition = `transform ${duration}s linear, opacity ${duration}s`;
        document.getElementById('heartsBg').appendChild(heart);
        setTimeout(() => {
            heart.style.transform = `translate(${(Math.random()-0.5)*150}px, 110vh) rotate(${Math.random()*360}deg)`;
            heart.style.opacity = '0';
        }, 100);
        setTimeout(() => heart.remove(), duration * 1000);
    }
    setInterval(createHeart, 1200);
</script>

</body>
</html>
